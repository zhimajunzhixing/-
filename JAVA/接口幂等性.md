---
title: 接口幂等性
date: 2022-11-08T15:17:44Z
lastmod: 2022-11-08T23:27:26Z
---

# 接口幂等性

[02、接口幂等性.pdf](assets/02、接口幂等性-20221109105208-l2b2u71.pdf)

* [02、接口幂等性.pdf - p2 - 什么是幂等性](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=2)
* [02、接口幂等性.pdf - p2 - 哪些情况需要防止](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=2)
* [02、接口幂等性.pdf - p2 - 什么情况下需要幂等](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=2)
* [02、接口幂等性.pdf - p2 - 幂等解决方案](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=2)

  * [02、接口幂等性.pdf - p2 - token机制](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=2)

    * 1、携带token参数发起请求，并将token保存在redis。[如确认订单时生成token保存到redis](siyuan://blocks/20221102114120-9wdqr8y)
    * 2、使用lua脚本进行原子操作，验证redis与请求参数的token一致性，并删除redis中的token。  
      [如提交订单时验证确认订单时提交的token](siyuan://blocks/20221102114120-kwr2mb2)
  * [02、接口幂等性.pdf - p3 - 各种锁机制](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=3)
  * [02、接口幂等性.pdf - p4 - 各种唯一约束](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=4)

    * [02、接口幂等性.pdf - p4 - 数据库唯一约束](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=4)
    * [02、接口幂等性.pdf - p4 - redis set 防重](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=4)
  * [02、接口幂等性.pdf - p4 - 防重表](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=4)
  * [02、接口幂等性.pdf - p4 - 全局请求唯一 id](assets/02、接口幂等性-20221109105208-l2b2u71.pdf?p=4)

	

‍
